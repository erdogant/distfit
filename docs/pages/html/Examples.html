

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick start to find best fitting distribution &mdash; distfit distfit documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=e0179649" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=daee824d"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Initialization" href="Functions.html" />
    <link rel="prev" title="Saving" href="Save%20and%20Load.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            distfit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Background</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Abstract.html">Abstract</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#uninstalling">Uninstalling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Methods</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Parametric.html">Parametric</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quantile.html">Quantiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Percentile.html">Percentiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Discrete.html">Discrete</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Generate samples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Generate.html">Generate samples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Performance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Performance.html">Parameter fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Performance.html#probability-density-function-fitting">Probability Density Function fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Performance.html#bootstrapping">Bootstrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="Performance.html#varying-sample-sizes">Varying sample sizes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Performance.html#smoothing">Smoothing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Performance.html#integer-fitting">Integer fitting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plots</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Plots.html">Basic plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plots.html#plot-all-fitted-distributions">Plot all fitted distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plots.html#combine-plots">Combine plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plots.html#change-chart-properties">Change chart properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plots.html#qq-plot">QQ plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plots.html#line-plots">Line plots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Save and Load</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Save%20and%20Load.html">Saving</a></li>
<li class="toctree-l1"><a class="reference internal" href="Save%20and%20Load.html#loading">Loading</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick start to find best fitting distribution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#generate-random-data">Generate random data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fit-distributions">Fit distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plot-distribution-fit">Plot distribution fit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plot-rss">Plot RSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#fit-for-one-specific-distribution">Fit for one specific distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="#fit-for-multiple-distributions">Fit for multiple distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="#make-predictions">Make predictions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Generate random data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fit-all-distribution">Fit all distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plot-predictions">Plot predictions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examine-results">Examine results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#parallel-computing">Parallel Computing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Functions.html">Initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.fit_transform">Detect best Fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.predict">Predict</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.generate">Generate Synthetic data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.density">Compute Density</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.bootstrap">Bootstrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.get_distributions">Get Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.plot">Plot PDF/CDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.qqplot">QQ-plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.plot_summary">Plot Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.save">Save</a></li>
<li class="toctree-l1"><a class="reference internal" href="Functions.html#module-distfit.distfit.distfit.load">Load</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html">Sponsor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#medium-blog">Medium Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#github">Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#colab-notebook">Colab Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#citing">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coding%20quality.html">Coding quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="distfit.distfit.html">API References</a></li>
</ul>

    <a href= "genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">distfit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Quick start to find best fitting distribution</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Examples.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-start-to-find-best-fitting-distribution">
<h1>Quick start to find best fitting distribution<a class="headerlink" href="#quick-start-to-find-best-fitting-distribution" title="Link to this heading"></a></h1>
<p>Specify <code class="docutils literal notranslate"><span class="pre">distfit</span></code> parameters. In this example nothing is specied and that means that all parameters are set to default.</p>
<section id="generate-random-data">
<h2>Generate random data<a class="headerlink" href="#generate-random-data" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">distfit</span><span class="w"> </span><span class="kn">import</span> <span class="n">distfit</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Example data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="fit-distributions">
<h2>Fit distributions<a class="headerlink" href="#fit-distributions" title="Link to this heading"></a></h2>
<p>A series of distributions are fitted on the emperical data and for each a RSS is determined. The distribution with the best fit (lowest RSS) is the best fitting distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the distfit library import the class distfit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">distfit</span><span class="w"> </span><span class="kn">import</span> <span class="n">distfit</span>

<span class="c1"># Initialize</span>
<span class="n">dfit</span> <span class="o">=</span> <span class="n">distfit</span><span class="p">(</span><span class="n">todf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Search for best theoretical fit on your empirical data</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">dfit</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># [distfit] &gt;fit..</span>
<span class="c1"># [distfit] &gt;transform..</span>
<span class="c1"># [distfit] &gt;[norm      ] [0.00 sec] [RSS: 0.0036058] [loc=10.035 scale=2.947]</span>
<span class="c1"># [distfit] &gt;[expon     ] [0.00 sec] [RSS: 0.1821936] [loc=-0.496 scale=10.531]</span>
<span class="c1"># [distfit] &gt;[pareto    ] [0.12 sec] [RSS: 0.1821326] [loc=-699709.530 scale=699709.035]</span>
<span class="c1"># [distfit] &gt;[dweibull  ] [0.02 sec] [RSS: 0.0059431] [loc=10.001 scale=2.541]</span>
<span class="c1"># [distfit] &gt;[t         ] [0.09 sec] [RSS: 0.0036059] [loc=10.035 scale=2.947]</span>
<span class="c1"># [distfit] &gt;[genextreme] [0.27 sec] [RSS: 0.7053157] [loc=17.658 scale=2.731]</span>
<span class="c1"># [distfit] &gt;[gamma     ] [0.07 sec] [RSS: 0.0036036] [loc=-326.130 scale=0.026]</span>
<span class="c1"># [distfit] &gt;[lognorm   ] [0.15 sec] [RSS: 0.0036144] [loc=-187.018 scale=197.039]</span>
<span class="c1"># [distfit] &gt;[beta      ] [0.05 sec] [RSS: 0.0036176] [loc=-16.974 scale=51.538]</span>
<span class="c1"># [distfit] &gt;[uniform   ] [0.00 sec] [RSS: 0.1162497] [loc=-0.496 scale=19.280]</span>
<span class="c1"># [distfit] &gt;[loggamma  ] [0.07 sec] [RSS: 0.0036382] [loc=-493.477 scale=77.133]</span>
<span class="c1"># [distfit] &gt;Compute confidence interval [parametric]</span>
</pre></div>
</div>
</section>
<section id="plot-distribution-fit">
<h2>Plot distribution fit<a class="headerlink" href="#plot-distribution-fit" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
<span class="n">dfit</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils align-center" id="id2">
<caption><span class="caption-text">Distribution fit</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/example_fig1a.png"><img alt="fig1a" src="_images/example_fig1a.png" style="width: 821.0999999999999px; height: 634.1999999999999px;" /></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="plot-rss">
<h2>Plot RSS<a class="headerlink" href="#plot-rss" title="Link to this heading"></a></h2>
<p>Note that the best fit should be <strong>normal</strong>, as this was also the input data. However, many other distributions can be very similar with specific loc/scale parameters. It is however not unusual to see <em>gamma</em> and <em>beta</em> distribution as these are the “barba-pappas” among the distributions. Lets print the summary of detected distributions with the Residual Sum of Squares.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make plot</span>
<span class="n">dfit</span><span class="o">.</span><span class="n">plot_summary</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils align-center" id="id3">
<caption><span class="caption-text">Summary of fitted theoretical Distributions</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/fig1_summary.png"><img alt="fig1summary" src="_images/fig1_summary.png" style="width: 532.8px; height: 319.2px;" /></a></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="fit-for-one-specific-distribution">
<h1>Fit for one specific distribution<a class="headerlink" href="#fit-for-one-specific-distribution" title="Link to this heading"></a></h1>
<p>Suppose you want to test for one specific distribution, such as the normal distribution. This can be done as following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create random data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>

<span class="c1"># Initialize</span>
<span class="n">dfit</span> <span class="o">=</span> <span class="n">distfit</span><span class="p">(</span><span class="n">distr</span><span class="o">=</span><span class="s1">&#39;norm&#39;</span><span class="p">)</span>
<span class="c1"># Fit on data</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">dfit</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># [distfit] &gt;fit..</span>
<span class="c1"># [distfit] &gt;transform..</span>
<span class="c1"># [distfit] &gt;[norm] [RSS: 0.0151267] [loc=0.103 scale=2.028]</span>

<span class="n">dfit</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="fit-for-multiple-distributions">
<h1>Fit for multiple distributions<a class="headerlink" href="#fit-for-multiple-distributions" title="Link to this heading"></a></h1>
<p>Suppose you want to test multiple distributions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create random data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>

<span class="c1"># Initialize</span>
<span class="n">dfit</span> <span class="o">=</span> <span class="n">distfit</span><span class="p">(</span><span class="n">distr</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;uniform&#39;</span><span class="p">])</span>
<span class="c1"># Fit on data</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">dfit</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># [distfit] &gt;fit..</span>
<span class="c1"># [distfit] &gt;transform..</span>
<span class="c1"># [distfit] &gt;[norm   ] [0.00 sec] [RSS: 0.0012337] [loc=0.005 scale=1.982]</span>
<span class="c1"># [distfit] &gt;[t      ] [0.12 sec] [RSS: 0.0012336] [loc=0.005 scale=1.982]</span>
<span class="c1"># [distfit] &gt;[uniform] [0.00 sec] [RSS: 0.2505846] [loc=-6.583 scale=15.076]</span>
<span class="c1"># [distfit] &gt;Compute confidence interval [parametric]</span>

<span class="n">dfit</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="make-predictions">
<h1>Make predictions<a class="headerlink" href="#make-predictions" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">predict</span></code> function will compute the probability of samples in the fitted <em>PDF</em>.
Note that, due to multiple testing approaches, it can occur that samples can be located
outside the confidence interval but not marked as significant. See section Algorithm -&gt; Multiple testing for more information.</p>
<section id="id1">
<h2>Generate random data<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="fit-all-distribution">
<h2>Fit all distribution<a class="headerlink" href="#fit-all-distribution" title="Link to this heading"></a></h2>
<p>A series of distributions are fitted on the emperical data and for each a <em>RSS</em> is determined. The distribution with the best fit (lowest RSS) is the best fitting distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the distfit library import the class distfit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">distfit</span><span class="w"> </span><span class="kn">import</span> <span class="n">distfit</span>

<span class="c1"># Initialize</span>
<span class="n">dfit</span> <span class="o">=</span> <span class="n">distfit</span><span class="p">(</span><span class="n">todf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Search for best theoretical fit on your empirical data</span>
<span class="n">dfit</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Make prediction on new datapoints based on the fit</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">dfit</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plot-predictions">
<h2>Plot predictions<a class="headerlink" href="#plot-predictions" title="Link to this heading"></a></h2>
<p>The best fitted distribution is plotted over the emperical data with it confidence intervals.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The plot function will now also include the predictions of y</span>
<span class="n">dfit</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="examine-results">
<h2>Examine results<a class="headerlink" href="#examine-results" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">results</span></code> is a dictionary containing <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">y_proba</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and <code class="docutils literal notranslate"><span class="pre">P</span></code> for which the output values has the same order as input value <code class="docutils literal notranslate"><span class="pre">y</span></code>.
The “P” stands for the RAW P-values and “y_proba” are the corrected P-values after multiple test correction (default: fdr_bh).
In case you want to use the “P” values, set “multtest” to None during initialization.
Note that dataframe <code class="docutils literal notranslate"><span class="pre">df</span></code> is included when using the <strong>todf=True</strong> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print probabilities</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;y_proba&#39;</span><span class="p">])</span>
<span class="c1"># &gt; [0.02702734, 0.04908335, 0.08492715, 0.13745288, 0.49567466, 0.41288701, 0.3248188 , 0.02260135, 0.00636084]</span>

<span class="c1"># Print the labels with respect to the confidence intervals</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;y_pred&#39;</span><span class="p">])</span>
<span class="c1"># &gt; [&#39;down&#39; &#39;down&#39; &#39;down&#39; &#39;none&#39; &#39;none&#39; &#39;none&#39; &#39;none&#39; &#39;up&#39; &#39;up&#39;]</span>

<span class="c1"># Print the dataframe containing the total information</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;df&#39;</span><span class="p">])</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>y</p></th>
<th class="head"><p>y_proba</p></th>
<th class="head"><p>y_pred</p></th>
<th class="head"><p>P</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>3</p></td>
<td><p>0.0270273</p></td>
<td><p>down</p></td>
<td><p>0.00900911</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>4</p></td>
<td><p>0.0490833</p></td>
<td><p>down</p></td>
<td><p>0.0218148</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>0.0849271</p></td>
<td><p>down</p></td>
<td><p>0.0471817</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>6</p></td>
<td><p>0.137453</p></td>
<td><p>none</p></td>
<td><p>0.0916353</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>10</p></td>
<td><p>0.495675</p></td>
<td><p>none</p></td>
<td><p>0.495675</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>11</p></td>
<td><p>0.412887</p></td>
<td><p>none</p></td>
<td><p>0.367011</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>12</p></td>
<td><p>0.324819</p></td>
<td><p>none</p></td>
<td><p>0.252637</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>18</p></td>
<td><p>0.0226014</p></td>
<td><p>up</p></td>
<td><p>0.00502252</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>20</p></td>
<td><p>0.00636084</p></td>
<td><p>up</p></td>
<td><p>0.00070676</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-center" id="id4">
<caption><span class="caption-text">Plot distribution with predictions</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/example_fig1b.png"><img alt="fig1b" src="_images/example_fig1b.png" style="width: 430.5px; height: 368.2px;" /></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="output">
<h2>Output<a class="headerlink" href="#output" title="Link to this heading"></a></h2>
<p>In the previous example, we showed that the output can be captured <code class="docutils literal notranslate"><span class="pre">results</span></code> and <code class="docutils literal notranslate"><span class="pre">out</span></code> but the results are also stored in the object itself.
In our examples it is the <code class="docutils literal notranslate"><span class="pre">dist</span></code> object.
The same variable names are used; <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">y_proba</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and <code class="docutils literal notranslate"><span class="pre">P</span></code>.
Note that dataframe <code class="docutils literal notranslate"><span class="pre">df</span></code> is included when using the todf=True paramter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># All scores of the tested distributions</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dfit</span><span class="o">.</span><span class="n">summary</span><span class="p">)</span>

<span class="c1"># Distribution parameters for best fit</span>
<span class="n">dfit</span><span class="o">.</span><span class="n">model</span>

<span class="c1"># Show the predictions for y</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dfit</span><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;y_pred&#39;</span><span class="p">])</span>
<span class="c1"># [&#39;down&#39; &#39;down&#39; &#39;none&#39; &#39;none&#39; &#39;none&#39; &#39;none&#39; &#39;up&#39; &#39;up&#39; &#39;up&#39;]</span>

<span class="c1"># Show the probabilities for y that belong with the predictions</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dfit</span><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;y_proba&#39;</span><span class="p">])</span>
<span class="c1"># [2.75338375e-05 2.74664877e-03 4.74739680e-01 3.28636879e-01 1.99195071e-01 1.06316132e-01 5.05914722e-02 2.18922761e-02 8.89349927e-03]</span>

<span class="c1"># All predicted information is also stored in a structured dataframe (only when setting the todf=True)</span>
<span class="c1"># y: input values</span>
<span class="c1"># y_proba: corrected P-values after multiple test correction (default: fdr_bh).</span>
<span class="c1"># y_pred: True in case y_proba&lt;=alpha</span>
<span class="c1"># P: raw P-values</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dfit</span><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;df&#39;</span><span class="p">])</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>y</p></th>
<th class="head"><p>y_proba</p></th>
<th class="head"><p>y_pred</p></th>
<th class="head"><p>P</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>3</p></td>
<td><p>0.0270273</p></td>
<td><p>down</p></td>
<td><p>0.00900911</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>4</p></td>
<td><p>0.0490833</p></td>
<td><p>down</p></td>
<td><p>0.0218148</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>5</p></td>
<td><p>0.0849271</p></td>
<td><p>down</p></td>
<td><p>0.0471817</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>6</p></td>
<td><p>0.137453</p></td>
<td><p>none</p></td>
<td><p>0.0916353</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>10</p></td>
<td><p>0.495675</p></td>
<td><p>none</p></td>
<td><p>0.495675</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>11</p></td>
<td><p>0.412887</p></td>
<td><p>none</p></td>
<td><p>0.367011</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>12</p></td>
<td><p>0.324819</p></td>
<td><p>none</p></td>
<td><p>0.252637</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>18</p></td>
<td><p>0.0226014</p></td>
<td><p>up</p></td>
<td><p>0.00502252</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>20</p></td>
<td><p>0.00636084</p></td>
<td><p>up</p></td>
<td><p>0.00070676</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="parallel-computing">
<h1>Parallel Computing<a class="headerlink" href="#parallel-computing" title="Link to this heading"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Distfit</span></code>  supports parallel computing where it performs parallelizing into two parts for maximum efficiency: over the fitting of distributions and separately over the bootstrap approach.
The chart below shows how effective parallelization is over these two parts. In general it can be seen that parallelizing is very effective! Time to compute is reduced from ~210sec to ~48sec.
The <code class="docutils literal notranslate"><span class="pre">n_jobs_dist</span></code> describes the general loop, while <code class="docutils literal notranslate"><span class="pre">n_jobs</span></code> pertains to the bootstrap part.
When the cores are somehow divided between the two tasks, there is no performance gain. In other words, when bootstrapping is enabled, it is best to allocate most of the cores to it.
Core allocation is automatically managed during initialization, so you only need to set <code class="docutils literal notranslate"><span class="pre">n_jobs</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c1"># Initialization</span>
<span class="n">dfit</span> <span class="o">=</span> <span class="n">distfit</span><span class="p">(</span><span class="n">distr</span><span class="o">=</span><span class="s1">&#39;popular&#39;</span><span class="p">,</span> <span class="n">n_boots</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">)</span>
<span class="c1"># Fit</span>
<span class="n">dfit</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="c1"># Compute time</span>
<span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
<span class="nb">print</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-center" id="id5">
<caption><span class="caption-text">Parallel Computing</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/performance_parralel_jobs.png"><img alt="fig_parallel_computing" src="_images/performance_parralel_jobs.png" style="width: 612.0px; height: 388.0px;" /></a></p></td>
</tr>
</tbody>
</table>
<hr>
<center>
        <script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
        <!-- Show an image ad -->
        <!-- <div data-ea-publisher="erdogantgithubio" data-ea-type="image"></div> -->
        <div data-ea-publisher="erdogantgithubio" data-ea-type="image" data-ea-style="stickybox"></div>
</center>
<hr></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Save%20and%20Load.html" class="btn btn-neutral float-left" title="Saving" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Functions.html" class="btn btn-neutral float-right" title="Initialization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Erdogan Taskesen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>